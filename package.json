{
  "name": "performance",
  "license": "GPL-2.0-or-later",
  "repository": "git+https://github.com/WordPress/performance.git",
  "engines": {
    "node": ">=20.10.0",
    "npm": ">=10.2.3"
  },
  "dependencies": {
    "@builder.io/partytown": "github:westonruter/partytown#add/wp-i18n-workaround",
    "web-vitals": "4.2.4"
  },
  "devDependencies": {
    "@octokit/rest": "^21.1.0",
    "@wordpress/env": "^10.16.0",
    "@wordpress/prettier-config": "^4.14.0",
    "@wordpress/scripts": "^30.9.0",
    "commander": "13.0.0",
    "copy-webpack-plugin": "^12.0.2",
    "css-minimizer-webpack-plugin": "^7.0.0",
    "fast-glob": "^3.3.3",
    "fs-extra": "^11.2.0",
    "husky": "^9.1.7",
    "lint-staged": "^15.4.1",
    "lodash": "4.17.21",
    "micromatch": "^4.0.8",
    "npm-run-all": "^4.1.5",
    "typescript": "^5.7.3",
    "webpackbar": "^7.0.0"
  },
  "scripts": {
    "changelog": "./bin/plugin/cli.js changelog",
    "since": "./bin/plugin/cli.js since",
    "readme": "./bin/plugin/cli.js readme",
    "versions": "./bin/plugin/cli.js versions",
    "build": "wp-scripts build",
    "build-plugins": "npm-run-all 'build:plugin:*'",
    "build-plugins:zip": "npm-run-all 'build:plugin:* --env zip=true'",
    "build:plugin:performance-lab": "webpack --mode production --env plugin=performance-lab",
    "build:plugin:auto-sizes": "webpack --mode production --env plugin=auto-sizes",
    "build:plugin:dominant-color-images": "webpack --mode production --env plugin=dominant-color-images",
    "build:plugin:embed-optimizer": "webpack --mode production --env plugin=embed-optimizer",
    "build:plugin:image-prioritizer": "webpack --mode production --env plugin=image-prioritizer",
    "build:plugin:optimization-detective": "webpack --mode production --env plugin=optimization-detective",
    "build:plugin:speculation-rules": "webpack --mode production --env plugin=speculation-rules",
    "build:plugin:web-worker-offloading": "webpack --mode production --env plugin=web-worker-offloading",
    "build:plugin:webp-uploads": "webpack --mode production --env plugin=webp-uploads",
    "generate-pending-release-diffs": "bin/generate-pending-release-diffs.sh",
    "format-js": "wp-scripts format",
    "lint-js": "wp-scripts lint-js",
    "tsc": "tsc",
    "format-php": "composer format:all",
    "phpstan": "composer phpstan",
    "lint-php": "composer lint:all",
    "test-php": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:plugins",
    "test-php-watch": "./bin/test-php-watch.sh",
    "test-php-multisite": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:plugins",
    "test-php:performance-lab": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:performance-lab",
    "test-php:auto-sizes": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:auto-sizes",
    "test-php:dominant-color-images": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:dominant-color-images",
    "test-php:embed-optimizer": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:embed-optimizer",
    "test-php:image-prioritizer": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:image-prioritizer",
    "test-php:optimization-detective": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:optimization-detective",
    "test-php:speculation-rules": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:speculation-rules",
    "test-php:web-worker-offloading": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:web-worker-offloading",
    "test-php:webp-uploads": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test:webp-uploads",
    "test-php-multisite:performance-lab": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:performance-lab",
    "test-php-multisite:auto-sizes": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:auto-sizes",
    "test-php-multisite:dominant-color-images": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:dominant-color-images",
    "test-php-multisite:embed-optimizer": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:embed-optimizer",
    "test-php-multisite:image-prioritizer": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:image-prioritizer",
    "test-php-multisite:optimization-detective": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:optimization-detective",
    "test-php-multisite:speculation-rules": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:speculation-rules",
    "test-php-multisite:web-worker-offloading": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:web-worker-offloading",
    "test-php-multisite:webp-uploads": "wp-env run tests-cli --env-cwd=/var/www/html/wp-content/plugins/performance composer test-multisite:webp-uploads",
    "wp-env": "wp-env",
    "prepare": "husky"
  }
}
